# Visualization Examples

This document showcases the various Control Flow Graphs generated by the tool.

## Example Contracts

### 1. SimpleToken Contract

The SimpleToken contract demonstrates basic token operations.

#### Individual Function CFGs

**transfer() function:**
- Location: `output/cfg_transfer.png`
- Shows: Sequential flow with require statements and state updates

**mint() function:**
- Location: `output/cfg_mint.png`
- Shows: Simple authorization check followed by state update

**getBalance() function:**
- Location: `output/cfg_getBalance.png`
- Shows: Direct return statement (view function)

#### Combined View

All three functions visualized together:
- Location: `output/combined_simple_token.png`
- Shows: Complete contract control flow in subgraphs

### 2. Voting Contract

The Voting contract implements a proposal voting system.

**vote() function:**
- Location: `output/cfg_vote.png`
- Shows: Multiple require checks, state updates

**Combined view:**
- Location: `output/voting_combined.pdf`
- Format: PDF (high quality for printing)
- Shows: All 4 functions (createProposal, vote, executeProposal, getWinningProposal)

### 3. Auction Contract

The Auction contract implements a bidding system.

**bid() function:**
- Location: `output/auction_cfg_bid.png`
- Shows: Time check, bid comparison, conditional state updates

**withdraw() function:**
- Location: `output/auction_cfg_withdraw.png`
- Shows: Nested conditionals for withdrawal logic

**auctionEnd() function:**
- Location: `output/auction_cfg_auctionEnd.png`
- Shows: End condition checks and finalization

### 4. Complex Example

A synthetic example showing all control flow features:
- Location: `output/example_all_features.png`
- Features demonstrated:
  - Entry/Exit nodes (green/red ellipses)
  - Require statements (assertions)
  - If/Else branches (yellow diamonds)
  - While loops (blue diamonds with back edges)
  - For loops (blue diamonds)
  - Return statements (gray boxes)

## Node Color Legend

| Color | Shape | Type | Description |
|-------|-------|------|-------------|
| ðŸŸ¢ Green | Ellipse | Entry | Function entry point |
| ðŸ”´ Red | Ellipse | Exit | Function exit point |
| ðŸŸ¡ Yellow | Diamond | Condition | If/else statement |
| ðŸ”µ Blue | Diamond | Loop | While/for loop |
| âšª Gray | Rounded Box | Return | Return statement |
| âšª White | Rounded Box | Statement | Regular statement |

## Edge Color Legend

| Color | Style | Type | Description |
|-------|-------|------|-------------|
| ðŸŸ¢ Green | Solid | True | True branch of condition |
| ðŸ”´ Red | Solid | False | False branch of condition |
| ðŸ”µ Blue | Dashed | Back | Loop back edge |
| âš« Black | Solid | Flow | Sequential flow |

## Viewing the Visualizations

All visualizations are stored in the `output/` directory:

```bash
# View PNG files
eog output/*.png           # Linux with Eye of GNOME
open output/*.png          # macOS
start output/*.png         # Windows

# View PDF files
evince output/*.pdf        # Linux
open output/*.pdf          # macOS
start output/*.pdf         # Windows
```

## Generating Custom Visualizations

### Specific Function

```bash
cfg-visualizer examples/SimpleToken.sol --function transfer -o output/my_cfg
```

### All Functions Combined

```bash
cfg-visualizer examples/Voting.sol --combined -o output/voting_all
```

### Different Format

```bash
# Generate SVG (scalable)
cfg-visualizer examples/Auction.sol -f svg

# Generate PDF (print quality)
cfg-visualizer examples/Auction.sol -f pdf

# Generate DOT (editable source)
cfg-visualizer examples/Auction.sol -f dot
```

## Use Cases

1. **Code Understanding**: Quickly grasp the control flow of complex functions
2. **Code Review**: Identify potential issues in control flow logic
3. **Documentation**: Generate diagrams for technical documentation
4. **Education**: Teach smart contract development concepts
5. **Auditing**: Visualize contract behavior for security analysis
6. **Debugging**: Understand execution paths when troubleshooting

## Interactive Exploration

For large contracts, use the individual function view to focus on specific areas:

```bash
# List all functions first
cfg-visualizer examples/Voting.sol -v | grep "Analyzing function"

# Then analyze interesting functions
cfg-visualizer examples/Voting.sol --function getWinningProposal
```

## Tips

1. Use `--combined` for overview, individual functions for detail
2. PDF format is best for reports and presentations
3. SVG format is best for web pages
4. PNG format is best for quick sharing
5. Use `-v` (verbose) to see what's being analyzed

## Examples in Action

### Quick Analysis
```bash
cfg-visualizer examples/SimpleToken.sol
# Output: 3 PNG files (one per function)
```

### Professional Output
```bash
cfg-visualizer examples/Voting.sol --combined -f pdf -o reports/voting_analysis
# Output: High-quality PDF for documentation
```

### Focused Review
```bash
cfg-visualizer examples/Auction.sol --function withdraw -v -o review/withdraw
# Output: Detailed analysis of specific function
```
